{"version":3,"sources":["ListaDeUsuarios.jsx","index.jsx"],"names":["ListaDeUsuarios","useState","infos","setInfos","useEffect","axios","get","method","then","resposta","data","cards","card_number","cvv","expiry_date","abrirPagamento","setAbrirPagamento","pegarUsuario","setPegarUsuario","abrirPagou","setAbrirPagou","abrirRecebeu","setAbrirRecebeu","abrirNaoRecebeu","setAbrirNaoRecebeu","valorCartao","setValorCartao","valorDinheiro","setValorDinheiro","validarCampo","setValidarCampo","validarSaldo","setValidarSaldo","saldoCaixa","setSaldoCaixa","validarPagamento","param","x","replace","parseInt","className","src","map","item","key","index","img","alt","name","username","onClick","style","display","thousandSeparator","value","onChange","event","target","prefix","inputmode","placeholder","substr","y","console","log","abrirModalPagou","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.197becf1.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport NumberFormat from 'react-number-format';\r\nimport './listadeusuarios.css';\r\nimport axios from 'axios';\r\n\r\n//Pegando as informações da API pelo GET\r\nconst ListaDeUsuarios = () => {\r\n    const [infos, setInfos] = useState([])\r\n    useEffect(() => {\r\n        axios.get('https://www.mocky.io/v2/5d531c4f2e0000620081ddce', {\r\n            method: 'GET',\r\n        }).then((resposta) => {setInfos(resposta.data)})\r\n    }, [])\r\n\r\n// Mock com lista de cartões para teste\r\nconst cards = [\r\n    // cartão válido\r\n    {\r\n      card_number: '1111111111111111',\r\n      cvv: 789,\r\n      expiry_date: '01/18',\r\n    },\r\n    // cartão inválido\r\n    {\r\n      card_number: '4111111111111234',\r\n      cvv: 123,\r\n      expiry_date: '01/20',\r\n    },\r\n];\r\n\r\n// Função para pegar a escolha do cartão do input select\r\nconst escolhaDoCartao = (event) => {\r\n    setValorCartao(event.target.value);\r\n}\r\n\r\n// Ações dos modals\r\nconst [abrirPagamento, setAbrirPagamento] = useState(\"none\"); // Para abrir modal de pagamento\r\nconst [pegarUsuario, setPegarUsuario] = useState(\"\"); // Para pegar o nome do usuário\r\nconst [abrirPagou, setAbrirPagou] = useState(\"none\"); // Para abrir modal com recibo de pagamento\r\nconst [abrirRecebeu, setAbrirRecebeu] = useState(\"flex\"); // Para msg de erro de pagamento\r\nconst [abrirNaoRecebeu, setAbrirNaoRecebeu] = useState(\"none\"); // Para msg de erro de pagamento\r\nconst [valorCartao, setValorCartao] = useState(\"1\"); // Para pegar o cartão escolhido para pagamento\r\nconst [valorDinheiro, setValorDinheiro] = useState(\"\"); // Para pegar o valor de pagamento digitado\r\nconst [validarCampo, setValidarCampo] = useState(\"none\"); // Para validar campo de valor digitado\r\nconst [validarSaldo, setValidarSaldo] = useState(\"none\"); // Para validar Saldo de valor digitado\r\nconst [saldoCaixa, setSaldoCaixa] = useState(3000); // Valor da carteira\r\n\r\n// Função para abrir o modal de pagamento do usuário\r\nconst abrirModalPagar = (name) => {\r\n    setAbrirPagamento(\"flex\")\r\n    setPegarUsuario(name)\r\n}\r\n\r\nconst fecharPrimeiroModal = (name) => {\r\n    setAbrirPagamento(\"none\")\r\n    setValidarCampo(\"none\")\r\n    setValidarSaldo(\"none\")\r\n    setValorDinheiro(\"\")\r\n}\r\n\r\n// Função que abre o modal de recibo de pagamento \r\nconst abrirModalPagou = () => {\r\n    if (valorDinheiro === \"\") {\r\n        setValidarCampo(\"flex\");\r\n    } else {\r\n        if (valorCartao === \"1\") {\r\n            let y = validarPagamento()\r\n            console.log(y);\r\n            if (y === true) {\r\n                setAbrirRecebeu(\"flex\");\r\n                setAbrirNaoRecebeu(\"none\")\r\n                setAbrirPagou(\"flex\");\r\n            }\r\n        } else {\r\n            setAbrirRecebeu(\"none\");\r\n            setAbrirNaoRecebeu(\"flex\")\r\n            setAbrirPagou(\"flex\");\r\n        }\r\n        /* setAbrirPagamento(\"none\"); */        \r\n        /* setValorDinheiro(\"\"); */\r\n        setValidarCampo(\"none\");\r\n    }\r\n}\r\n\r\nconst validarPagamento = (param) => {\r\n    let x = valorDinheiro.replace('R$', '')\r\n    x = parseInt(x.replace(',', ''))\r\n    if (x <= saldoCaixa) {\r\n        setSaldoCaixa(saldoCaixa - x)\r\n        setValidarSaldo(\"none\")\r\n        param = true\r\n        return param\r\n    } else {\r\n        setValidarSaldo(\"flex\")\r\n        param = false\r\n        return param\r\n    }\r\n}\r\n\r\n// Função para fechar o modal do recibo de pagamento\r\nconst fecharModal = () => {\r\n    setAbrirPagou(\"none\");\r\n    setValidarCampo(\"none\")\r\n    setValidarSaldo(\"none\")\r\n    setAbrirPagamento(\"none\");\r\n    setValorDinheiro(\"\")\r\n}\r\n\r\n// Função para validar campo de valor para pagamento do usuário\r\nconst valorInput = (event) => {\r\n    setValorDinheiro(event.target.value);\r\n    setValidarCampo(\"none\");\r\n}\r\n\r\n// Renderizando na tela as informações recebidas da API \r\n    return (\r\n        <>\r\n        <header>\r\n            <div className='header'>\r\n                <div className='class-user'>\r\n                    <img className='user-logo' src=\"https://img.icons8.com/small/128/000000/user-male-circle.png\"/>\r\n                    <h3 className='user-title'>Felippe Alves de Paula</h3>\r\n                </div>\r\n                <div className='class-saldo'>\r\n                    <p>Saldo:</p>\r\n                    <p className='saldo-caixa'>{saldoCaixa}</p>\r\n                </div>\r\n            </div>\r\n        </header>\r\n        <div className='desktop-layout'>\r\n            {infos.map(item => (\r\n                \r\n                <div className=\"container\" key={item.index}>\r\n                    <div className=\"content\">\r\n                        <img className=\"thumbnail\" src={item.img} alt=\"Foto do usuário\" />\r\n                        <div className=\"infos\">   \r\n                            <p>Nome do Usuário: {item.name}</p>\r\n                            <p>Username: {item.username}</p>\r\n                        </div>\r\n                        <button className=\"botao-pagar\" onClick={()=>{abrirModalPagar(item.name)}}>Pagar</button>\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n\r\n            {/*--------------------------------Abrir Modal de pagamento----------------------------------*/}\r\n            <div className=\"abrirModal\" style={{display: abrirPagamento}}>\r\n                <div className=\"texto-cabecalho-modal\">\r\n                    <p className='modal-title'>Pagamento para <span>{pegarUsuario}</span></p>\r\n                    <div>\r\n                        <button className=\"btn-fechar\" onClick={()=>{fecharPrimeiroModal()}}>X</button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"valorInput\">\r\n                    <NumberFormat thousandSeparator={true} value={valorDinheiro} onChange={valorInput} prefix={'R$ '} inputmode=\"numeric\" placeholder=\"R$ 0,00\"/>\r\n                    <p style={{display:validarCampo}}>Campo obrigatório</p>\r\n                    <p style={{display:validarSaldo}}>Você não tem saldo suficiente</p>\r\n                </div>\r\n                <select value={valorCartao} onChange={escolhaDoCartao}>\r\n                <option value=\"1\">Cartão com final {cards[0].card_number.substr(-4)}</option>\r\n                <option value=\"2\">Cartão com final {cards[1].card_number.substr(-4)}</option>\r\n                </select>\r\n                <button className='btn-pagar' onClick={()=>{abrirModalPagou ()}}>Pagar</button>\r\n            </div>  \r\n\r\n            {/*------------------------------Abrir Modal de recibo de pagamento--------------------------------*/}\r\n            <div className=\"abrirModal\" style={{display: abrirPagou}}>\r\n                <p className=\"texto-cabecalho-modal\">Recibo de pagamento</p>\r\n                <p className=\"pagamento-sucess\" style={{display: abrirRecebeu}}>O Pagamento foi concluído com <span className='letter-sucess'>sucesso</span>!</p>\r\n                <p className=\"pagamento-negative\" style={{display: abrirNaoRecebeu}}>O Pagamento <span className='letter-negative'>não</span> foi concluído!</p>\r\n                <button className='btn-pagar' onClick={()=>{fecharModal()}}>Fechar</button>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ListaDeUsuarios","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport ListaDeUsuarios from './ListaDeUsuarios';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <ListaDeUsuarios />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}